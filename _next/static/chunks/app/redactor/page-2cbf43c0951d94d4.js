(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[989],{9982:function(e,t,i){Promise.resolve().then(i.bind(i,2674))},2674:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return m}});var s=i(3827),n=i(6287),o=i(4670),r=i(3265),l=i(3967),d=i(4090);let a=()=>(0,s.jsx)("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("g",{id:"Menu / Close_MD",children:(0,s.jsx)("path",{id:"Vector",d:"M18 18L12 12M12 12L6 6M12 12L18 6M12 12L6 18",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),x=()=>(0,s.jsx)("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M12 20H20.5M18 10L21 7L17 3L14 6M18 10L8 20H4V16L14 6M18 10L14 6",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),c=()=>(0,s.jsxs)("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"okIconTitle",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",color:"#000000",children:[(0,s.jsx)("title",{id:"okIconTitle",children:"Ok"}),(0,s.jsx)("polyline",{points:"4 13 9 18 20 7"})]}),p=e=>{let{width:t,height:i}=e;return(0,s.jsxs)("svg",{width:t,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 12.0002C20.2531 15.5764 15.8775 19 11.9998 19C8.12201 19 3.74646 15.5764 2 11.9998",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 12.0002C20.2531 8.42398 15.8782 5 12.0005 5C8.1227 5 3.74646 8.42314 2 11.9998",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12Z",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},h=e=>{let{width:t,height:i}=e;return(0,s.jsx)("svg",{width:t,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M21.0006 12.0007C19.2536 15.5766 15.8779 18 12 18M12 18C8.12204 18 4.7463 15.5766 2.99977 12.0002M12 18L12 21M19.4218 14.4218L21.4999 16.5M16.2304 16.9687L17.5 19.5M4.57812 14.4218L2.5 16.5M7.76953 16.9687L6.5 19.5",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},g=new(i(8091)).ZP("database");g.version(1).stores({books:"++id, name"}),g.version(1).stores({pages:"++id, bookid, name"}),g.version(1).stores({blocks:"++id, pageid, type, text, settings"}),g.table("pages"),g.table("books");let j=g.table("blocks"),u=e=>{let{text:t,blockid:i}=e,[n,o]=(0,d.useState)("\\frac{10}{4x} \\approx 2^{12}"),[r,g]=(0,d.useState)(t.replace(/\\\\/g,"\\")),[u,y]=(0,d.useState)("edit");return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("div",{style:{marginBottom:"8px"},children:"Формула"}),(0,s.jsxs)("div",{style:{gap:"8px",display:"flex"},children:[(0,s.jsx)("span",{children:"(copy up)"}),(0,s.jsx)("span",{children:"(copy down)"}),(0,s.jsx)("span",{children:"(new up)"}),(0,s.jsx)("span",{children:"(new down)"}),(0,s.jsx)("span",{children:"(drag)"}),(0,s.jsx)(p,{width:"24px",height:"24px"}),(0,s.jsx)(h,{width:"24px",height:"24px"}),"edit"===u&&(0,s.jsx)("div",{style:{cursor:"pointer"},onClick:()=>y("progress"),children:(0,s.jsx)(c,{})}),"progress"===u&&(0,s.jsx)("div",{style:{cursor:"pointer"},onClick:()=>y("edit"),children:(0,s.jsx)(x,{})}),(0,s.jsx)("div",{style:{cursor:"pointer"},children:(0,s.jsx)(a,{})})]})]}),"edit"===u&&(0,s.jsx)("textarea",{value:r,style:{width:"100%",padding:"8px",maxWidth:"100%",width:"100%"},onChange:async e=>{g(e.target.value),console.log("s",await j.update(i,{text:e.target.value})),console.log("id",typeof i)},name:"",id:"",cols:"30",rows:"10"}),(0,s.jsx)(l.Z,{dynamic:!0,inline:!0,children:"$$ ".concat(r," $$")})]})};var y=i(3452),w=i(4018),k=i(3308);let v=e=>{let{text:t,blockid:i,settings:n}=e,[o,r]=(0,d.useState)(t);return(0,s.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,s.jsx)("div",{style:{marginBottom:"8px"},children:"Текст"}),(0,s.jsx)("textarea",{value:o,style:{maxWidth:"100%",width:"100%",background:"gray",color:"white",padding:"8px"},onChange:async e=>{r(e.target.value),await j.update(i,{text:e.target.value})},name:"",id:"",cols:"30",rows:"10"}),(0,s.jsx)("div",{children:o})]})};function m(){let[e,t]=(0,d.useState)(!1),[i,a]=(0,d.useState)([]);return(0,d.useEffect)(()=>{(async()=>{let e=await j.where("pageid").equals(2).toArray();a(e),console.log("f",e)})()},[]),(0,s.jsxs)("div",{children:[(0,s.jsx)(y.Z,{shape:"circle",type:"primary",style:{right:20,bottom:20},icon:(0,s.jsx)(n.Z,{}),onClick:()=>{e?t(!1):t(!0)}}),(0,s.jsxs)(r.Z,{config:{loader:{load:["input/asciimath"]}},children:[e&&(0,s.jsx)("div",{style:{background:"#e7eaf6",borderTop:"1px solid black",width:"100%",height:"200px",position:"fixed",bottom:"0",left:"0",zIndex:"10",boxShadow:"2px -1px 28px -1px rgba(0,0,0,0.75)",padding:"16px"},children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,s.jsx)("div",{children:"auto close (pin)"}),(0,s.jsx)(l.Z,{dynamic:!0,inline:!0,style:{border:"1px solid black"},children:"$$ \\sum_{i=1}^{\\infty} i^{2} $$"}),(0,s.jsx)(l.Z,{dynamic:!0,inline:!0,style:{border:"1px solid black"},children:"$$ \\lim_{x \\to a } f(x) $$"})]})}),(0,s.jsx)(o.W,{children:(0,s.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",gap:"16px"},children:[(0,s.jsx)("div",{style:{fontSize:"32px",fontWeight:"600"},children:"Редактор"}),(0,s.jsx)(p,{width:"32px",height:"32px"}),(0,s.jsx)(h,{width:"32px",height:"32px"})]}),i.map(e=>"formula"===e.type?(0,s.jsx)(u,{blockid:e.id,text:e.text},e.id):"text"===e.type?(0,s.jsx)(v,{blockid:e.id,text:e.text},e.id):void 0),(0,s.jsx)(l.Z,{dynamic:!0,inline:!0,children:"Известно что  $$ ( a \\in A ) \\label{2} \\tag{1} $$ "}),(0,s.jsx)(l.Z,{dynamic:!0,inline:!0,children:"Известно что  \\( a \\in A \\) \\tag{1}"}),(0,s.jsx)(l.Z,{dynamic:!0,inline:!0,children:"Известно что  \\( a \\in A \\eqref{eq:1} \\) "}),(0,s.jsx)(l.Z,{dynamic:!0,inline:!0,children:"Известно что  \\( a \\in A [(1)](url-to-this-question#mjx-eq-1) \\) "}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"16px"},children:[(0,s.jsx)(w.ZP,{size:"large",type:"primary",onClick:async()=>{let e=await j.add({pageid:2,type:"formula",text:"",settings:{}});console.log("createdId",e),a(t=>[...t,{id:e,type:"formula",text:""}])},children:"+ Формула"}),(0,s.jsx)(w.ZP,{size:"large",onClick:async()=>{let e=await j.add({pageid:2,type:"text",text:"",settings:{fontSize:"16px",fontWeight:"500"}});a(t=>[...t,{id:e,type:"text",text:""}])},children:"+ Текст"}),(0,s.jsx)(w.ZP,{type:"primary",ghost:!0,size:"large",onClick:()=>{a(e=>[...e,{id:(0,k.x0)(),type:"text",text:""}])},children:"+ Формула и Текст"}),(0,s.jsx)(w.ZP,{type:"primary",ghost:!0,size:"large",onClick:()=>{a(e=>[...e,{id:(0,k.x0)(),type:"text",text:""}])},children:"+ Картинка"}),(0,s.jsx)(w.ZP,{type:"primary",ghost:!0,size:"large",onClick:()=>{a(e=>[...e,{id:(0,k.x0)(),type:"text",text:""}])},children:"+ Ссылка"}),(0,s.jsx)(w.ZP,{type:"primary",ghost:!0,size:"large",onClick:()=>{a(e=>[...e,{id:(0,k.x0)(),type:"text",text:""}])},children:"Получить дату"})]})]})})]}),e&&(0,s.jsx)("div",{style:{width:"100%",height:"200px"}})]})}},4670:function(e,t,i){"use strict";i.d(t,{W:function(){return r}});var s=i(3827),n=i(4116),o=i.n(n);let r=e=>{let{children:t}=e;return(0,s.jsx)("div",{className:o().root,children:t})}},4116:function(e){e.exports={root:"styles_root__I5CPl"}}},function(e){e.O(0,[629,746,971,69,744],function(){return e(e.s=9982)}),_N_E=e.O()}]);